(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2119:function(a,b,c){"use strict";c.r(b);var d=c(9499),e=c(7674),f=c(7294),g=c(9008),h=c.n(g),i=c(1664),j=c.n(i),k=c(2972),l=c(4128),m=c.n(l),n=c(5893);function o(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function p(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?o(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var q=function(){var a=(0,f.useState)(!0),b=a[0],c=a[1],d=(0,f.useState)(!0),g=d[0],i=d[1],l=(0,f.useState)("blue"),o=l[0],q=l[1],r=(0,f.useState)("red"),s=r[0],t=r[1],u=(0,f.useState)(0),v=u[0],w=u[1],x=(0,f.useState)(!0),y=x[0],z=x[1],A=(0,f.useState)([275,50]),B=A[0],C=A[1],D=(0,f.useState)(!0),E=D[0],F=D[1],G=(0,f.useState)(!0),H=G[0],I=G[1],J=(0,f.useState)([{id:1,center:[100,100],size:[50,50],fillColor:"red"},{id:2,center:[120,120],size:[50,50],fillColor:"green"},{id:3,center:[140,140],size:[50,50],fillColor:"orange"}]),K=J[0],L=J[1],M=(0,f.useCallback)(function(){var a=(0,e.Z)(B,2),b=a[0],c=a[1];c>=250&&I(!1),c<=50&&I(!0),C([b,c+(H?3:-3)])},[B,H]),N=(0,f.useCallback)(function(){w(v<360?v+3:0)},[v]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(h(),{children:[(0,n.jsx)("title",{children:"react-paper-bindings"}),(0,n.jsx)("meta",{name:"description",content:"react-paper-bindings demo"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(j(),{href:"/editor",children:"Editor"}),(0,n.jsxs)("div",{className:m().container,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:function(){return c(!b)},children:"canvas1"}),(0,n.jsx)("button",{onClick:function(){return i(!g)},children:"canvas2"})]}),b&&(0,n.jsx)(k.Xz,{className:m().canvas,width:400,height:300,children:(0,n.jsx)(k.G7,{onClick:function(){return F(!E)},onFrame:E?M:null,children:(0,n.jsxs)(k.mh,{children:[(0,n.jsx)(k.Ae,{center:B,fillColor:o,size:[50,50],onClick:function(){return q("blue"===o?"cyan":"blue")}}),K.map(function(a){return(0,f.createElement)(k.Ae,p(p({},a),{},{key:a.id,onClick:function(){var a,b,c;return L((b=0,c=2,(a=K).reduce(function(a,d,e,f){return b===c&&a.push(d),e===b||(b<c&&a.push(d),e===c&&a.push(f[b]),b>c&&a.push(d)),a},[])))}}))})]})})}),g&&(0,n.jsx)(k.Xz,{className:m().canvas,width:400,height:300,children:(0,n.jsx)(k.G7,{onClick:function(){return z(!y)},onFrame:y?N:null,children:(0,n.jsxs)(k.mh,{children:[(0,n.jsx)(k.Ae,{center:[200,150],fillColor:s,size:[100,100],rotation:v,onClick:function(){return t("red"===s?"gray":"red")}}),(0,n.jsxs)(k.Op,{selected:!0,fillColor:"black",children:[(0,n.jsx)(k.Cd,{center:[50,50],radius:30}),(0,n.jsx)(k.Cd,{center:[50,50],radius:10})]})]})})})]})]})};b.default=q},2972:function(a,b,c){"use strict";c.d(b,{Xz:function(){return H},Cd:function(){return o},Op:function(){return n},mh:function(){return l},"y$":function(){return m},nS:function(){return q},Ae:function(){return p},UA:function(){return r},G7:function(){return k}});var d=c(4730),e=c(9499),f=c(5861),g=c.n(f),h=c(4078),i=c(4725),j=c.n(i),k="View",l="Layer",m="Path",n="CompoundPath",o="Circle",p="Rectangle",q="Raster",r="Tool",s=["children"],t=["onLoad"];function u(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function v(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?u(Object(c),!0).forEach(function(b){(0,e.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):u(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var w=function(a,b,c,d){c[a]!==d[a]&&Object.assign(b,(0,e.Z)({},a,c[a]))},x={data:function(a,b,c){b.data!==c.data&&a instanceof j().Item&&(a.data=v(v(v({},a.data),b.data),{},{type:a.type}))},active:function(a,b,c){b.active&&b.active!==c.active&&a instanceof j().Tool&&a.activate()},point:function(a,b,c){b.point!==c.point&&a instanceof j().Item&&a.translate([b.point[0]-c.point[0],b.point[1]-c.point[1]])},center:function(a,b,c){b.center!==c.center&&a instanceof j().Item&&a.translate([b.center[0]-c.center[0],b.center[1]-c.center[1]])},radius:function(a,b,c){b.radius!==c.radius&&a instanceof j().Item&&a.scale(b.radius/c.radius)},rotation:function(a,b,c){b.rotation!==c.rotation&&a instanceof j().Item&&(b.rotation&&c.rotation?a.rotate(b.rotation-c.rotation):a.rotation=b.rotation)},size:function(a,b,c){b.size!==c.size&&a instanceof j().Item&&a.scale(b.size[0]/c.size[0],b.size[1]/c.size[1])}},y=function(a,b){for(var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},d=Object.keys(b),e=d.length,f=0;f<e;){var g=d[f];"id"!==g&&"children"!==g&&(x[g]?x[g](a,b,c):w(g,a,b,c)),f++}},z=function(a,b){var c=b.id,d=b.name,e=b.svg,f=c||d;if(!f)throw Error("Missing id or name prop on SymbolItem");if(!e)throw Error("Missing svg prop on SymbolItem");if(a.symbols&&a.symbols[f])return a.symbols[f];a.symbols||(a.symbols={});var g=new(j()).SymbolDefinition(a.project.importSVG(e));return a.symbols[f]=g,g},A=g()({createInstance:function(a,b,c){b.children;var e,f=(0,d.Z)(b,s),g=v(v({},f),{},{project:c.project});switch(a){case k:(e=c.view).project=c.project;break;case r:e=new c.Tool;break;case l:e=new c.Layer(g);break;case"Group":e=new c.Group(g);break;case m:e=new c.Path(g);break;case n:e=new c.CompoundPath(g);break;case"Arc":e=new c.Path.Arc(g);break;case o:e=new c.Path.Circle(g);break;case"Ellipse":e=new c.Path.Ellipse(g);break;case"Line":e=new c.Path.Line(g);break;case p:e=new c.Path.Rectangle(g);break;case"RegularPolygon":e=new c.Path.RegularPolygon(g);break;case"PointText":e=new c.PointText(g);break;case"SymbolItem":var h=z(c,g);e=new c.SymbolItem(h,g.center);break;case q:var i=g.onLoad,j=(0,d.Z)(g,t);e=new c.Raster(j),"function"==typeof i&&(e.onLoad=function(){return i(e)});break;default:throw Error('PaperRenderer does not support the type "'.concat(a,'"'))}return e.props=f,e.type=a,e},createTextInstance:function(){throw Error("PaperRenderer does not support text children")},getPublicInstance:function(a){return a},prepareForCommit:function(){return null},prepareUpdate:function(){return!0},resetAfterCommit:function(){},resetTextContent:function(){},getRootHostContext:function(){return null},getChildHostContext:function(){return null},shouldSetTextContent:function(){return!1},getCurrentEventPriority:function(){return h.DefaultEventPriority},getInstanceFromNode:function(){},getInstanceFromScope:function(){},preparePortalMount:function(){},prepareScopeUpdate:function(){},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},clearContainer:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsHydration:!1,supportsPersistence:!1,appendInitialChild:function(a,b){a instanceof j().Group&&b instanceof j().Item&&b.addTo(a),a instanceof j().CompoundPath&&b instanceof j().Item&&b.addTo(a),a instanceof j().View&&b instanceof j().Item&&b.addTo(a.project)},finalizeInitialChildren:function(a,b,c){return(a instanceof j().View||a instanceof j().Tool)&&y(a,c),!1},appendChild:function(a,b){a instanceof j().Group&&b instanceof j().Item&&b.addTo(a),a instanceof j().View&&b instanceof j().Item&&b.addTo(a.project)},appendChildToContainer:function(a,b){if(!(b instanceof j().View||b instanceof j().Tool))throw Error("Container can only hold View and Tool nodes")},insertBefore:function(a,b,c){a instanceof j().Group&&b instanceof j().Item&&c instanceof j().Item&&b.insertAbove(c)},insertInContainerBefore:function(a,b,c){if(!(b instanceof j().View||b instanceof j().Tool)||!(c instanceof j().View||c instanceof j().Tool))throw Error("Container can only hold View and Tool nodes")},removeChild:function(a,b){"function"==typeof b.remove&&b.remove()},removeChildFromContainer:function(a,b){"function"==typeof b.remove&&b.remove()},commitTextUpdate:function(){},commitMount:function(){},commitUpdate:function(a,b,c,d,e){y(a,e,d)}}),B=c(7294),C=function(a){var b=(0,B.useRef)(a),c=(0,B.useRef)(),d=(0,B.useRef)(!1),e=(0,B.useRef)(!1),f=(0,B.useState)(0)[1];d.current&&(e.current=!0),(0,B.useEffect)(function(){return d.current||(c.current=b.current(),d.current=!0),f(1),function(){e.current&&c.current&&c.current()}},[])},D=c(5893),E=["children","width","height","settings","onScopeReady"];function F(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function G(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?F(Object(c),!0).forEach(function(b){(0,e.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):F(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var H=function(a){var b=a.children,c=a.width,e=a.height,f=a.settings,g=a.onScopeReady,j=(0,d.Z)(a,E),k=(0,B.useRef)(null),l=(0,B.useRef)(null),m=(0,B.useRef)(null);return C(function(){return k.current instanceof HTMLCanvasElement&&(l.current=new i.PaperScope,Object.assign(l.current.settings,G(G({},f),{},{insertItems:!1})),l.current.setup(k.current),m.current=A.createContainer(l.current,h.ConcurrentRoot,null,!1,null,"",console.error,null),A.updateContainer(null,m.current,null,function(){return null}),"function"==typeof g&&g(l.current)),function(){m.current&&A.updateContainer(null,m.current,null,function(){return null}),k.current=null,l.current=null,m.current=null}}),(0,B.useEffect)(function(){l.current&&m.current&&A.updateContainer(b,m.current,null,function(){return null})},[b]),(0,B.useEffect)(function(){l.current&&(l.current.view.viewSize=new l.current.Size(c,e))},[c,e]),(0,D.jsx)("canvas",G(G({},j),{},{ref:k}))}},8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(2119)}])},4128:function(a){a.exports={container:"Styles_container__6hGck",editor:"Styles_editor__S5iy_",canvas:"Styles_canvas__ThDsp"}},4169:function(){},9845:function(){}},function(a){a.O(0,[711,184,774,888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])