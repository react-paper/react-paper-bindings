(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{296:function(a){function b(a,b,c){function d(){var j=Date.now()-h;j<b&&j>=0?e=setTimeout(d,b-j):(e=null,c||(i=a.apply(g,f),g=f=null))}null==b&&(b=100);var e,f,g,h,i,j=function(){g=this,f=arguments,h=Date.now();var j=c&&!e;return e||(e=setTimeout(d,b)),j&&(i=a.apply(g,f),g=f=null),i};return j.clear=function(){e&&(clearTimeout(e),e=null)},j.flush=function(){e&&(i=a.apply(g,f),g=f=null,clearTimeout(e),e=null)},j}b.debounce=b,a.exports=b},7145:function(a,b,c){"use strict";var d=c(3454);function e(a){return"object"!=typeof a||"toString"in a?a:Object.prototype.toString.call(a).slice(8,-1)}Object.defineProperty(b,"__esModule",{value:!0});var f="object"==typeof d;function g(a,b){if(!a){if(f)throw Error("Invariant failed");throw Error(b())}}b.invariant=g;var h=Object.prototype.hasOwnProperty,i=Array.prototype.splice,j=Object.prototype.toString;function k(a){return j.call(a).slice(8,-1)}var l=Object.assign||function(a,b){return m(b).forEach(function(c){h.call(b,c)&&(a[c]=b[c])}),a},m="function"==typeof Object.getOwnPropertySymbols?function(a){return Object.keys(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.keys(a)};function n(a){return Array.isArray(a)?l(a.constructor(a.length),a):"Map"===k(a)?new Map(a):"Set"===k(a)?new Set(a):a&&"object"==typeof a?l(Object.create(Object.getPrototypeOf(a)),a):a}var o=function(){function a(){this.commands=l({},p),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(a,b){return a===b},this.update.newContext=function(){return new a().update}}return Object.defineProperty(a.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(a){this.update.isEquals=a},enumerable:!0,configurable:!0}),a.prototype.extend=function(a,b){this.commands[a]=b},a.prototype.update=function(a,b){var c=this,d="function"==typeof b?{$apply:b}:b;Array.isArray(a)&&Array.isArray(d)||g(!Array.isArray(d),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),g("object"==typeof d&&null!==d,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(c.commands).join(", ")+"."});var e=a;return m(d).forEach(function(b){if(h.call(c.commands,b)){var f=a===e;e=c.commands[b](d[b],e,d,a),f&&c.isEquals(e,a)&&(e=a)}else{var g="Map"===k(a)?c.update(a.get(b),d[b]):c.update(a[b],d[b]),i="Map"===k(e)?e.get(b):e[b];c.isEquals(g,i)&&(void 0!==g||h.call(a,b))||(e===a&&(e=n(a)),"Map"===k(e)?e.set(b,g):e[b]=g)}}),e},a}();b.Context=o;var p={$push:function(a,b,c){return r(b,c,"$push"),a.length?b.concat(a):b},$unshift:function(a,b,c){return r(b,c,"$unshift"),a.length?a.concat(b):b},$splice:function(a,b,c,d){return t(b,c),a.forEach(function(a){u(a),b===d&&a.length&&(b=n(d)),i.apply(b,a)}),b},$set:function(a,b,c){return w(c),a},$toggle:function(a,b){s(a,"$toggle");var c=a.length?n(b):b;return a.forEach(function(a){c[a]=!b[a]}),c},$unset:function(a,b,c,d){return s(a,"$unset"),a.forEach(function(a){Object.hasOwnProperty.call(b,a)&&(b===d&&(b=n(d)),delete b[a])}),b},$add:function(a,b,c,d){return y(b,"$add"),s(a,"$add"),"Map"===k(b)?a.forEach(function(a){var c=a[0],e=a[1];b===d&&b.get(c)!==e&&(b=n(d)),b.set(c,e)}):a.forEach(function(a){b!==d||b.has(a)||(b=n(d)),b.add(a)}),b},$remove:function(a,b,c,d){return y(b,"$remove"),s(a,"$remove"),a.forEach(function(a){b===d&&b.has(a)&&(b=n(d)),b.delete(a)}),b},$merge:function(a,b,c,d){return x(b,a),m(a).forEach(function(c){a[c]!==b[c]&&(b===d&&(b=n(d)),b[c]=a[c])}),b},$apply:function(a,b){return v(a),a(b)}},q=new o;function r(a,b,c){g(Array.isArray(a),function(){return"update(): expected target of "+e(c)+" to be an array; got "+e(a)+"."}),s(b[c],c)}function s(a,b){g(Array.isArray(a),function(){return"update(): expected spec of "+e(b)+" to be an array; got "+e(a)+". Did you forget to wrap your parameter in an array?"})}function t(a,b){g(Array.isArray(a),function(){return"Expected $splice target to be an array; got "+e(a)}),u(b.$splice)}function u(a){g(Array.isArray(a),function(){return"update(): expected spec of $splice to be an array of arrays; got "+e(a)+". Did you forget to wrap your parameters in an array?"})}function v(a){g("function"==typeof a,function(){return"update(): expected spec of $apply to be a function; got "+e(a)+"."})}function w(a){g(1===Object.keys(a).length,function(){return"Cannot have more than one key in an object with $set"})}function x(a,b){g(b&&"object"==typeof b,function(){return"update(): $merge expects a spec of type 'object'; got "+e(b)}),g(a&&"object"==typeof a,function(){return"update(): $merge expects a target of type 'object'; got "+e(a)})}function y(a,b){var c=k(a);g("Map"===c||"Set"===c,function(){return"update(): "+e(b)+" expects a target of type Set or Map; got "+e(c)})}b.isEquals=q.update.isEquals,b.extend=q.extend,b.default=q.update,b.default.default=a.exports=l(b.default,b)},330:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return bC}});var d,e,f,g,h=c(7294),i=c(9008),j=c.n(i),k=(0,h.createContext)(void 0),l=c(2587);function m(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}var n=c(2937),o=c(9499),p=c(7145),q=c.n(p),r=c(7674),s=c(2972),t=c(5893);function u(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var v=function(a){return(0,t.jsx)(s.Cd,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?u(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):u(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a))};function w(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function x(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?w(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):w(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var y,z=function(a){var b=(0,h.useCallback)(function(){document.body&&(document.body.style.cursor="pointer")},[]),c=(0,h.useCallback)(function(){document.body&&(document.body.style.cursor="auto")},[]);return(0,t.jsx)(s.y$,x(x({},a),{},{onMouseEnter:b,onMouseLeave:c}))};(y=d||(d={})).Circle="Circle",y.Path="Path";var A={Circle:v,Path:z},B=new Uint8Array(16);function C(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(B)}for(var D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,E=[],F=0;F<256;++F)E.push((F+256).toString(16).substr(1));var G=function(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:0,d=(E[a[c+0]]+E[a[c+1]]+E[a[c+2]]+E[a[c+3]]+"-"+E[a[c+4]]+E[a[c+5]]+"-"+E[a[c+6]]+E[a[c+7]]+"-"+E[a[c+8]]+E[a[c+9]]+"-"+E[a[c+10]]+E[a[c+11]]+E[a[c+12]]+E[a[c+13]]+E[a[c+14]]+E[a[c+15]]).toLowerCase();if(!("string"==typeof(b=d)&&D.test(b)))throw TypeError("Stringified UUID is invalid");return d},H=function(a,b,c){var d=(a=a||{}).random||(a.rng||C)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){c=c||0;for(var e=0;e<16;++e)b[c+e]=d[e];return b}return G(d)};function I(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function J(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?I(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):I(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var K={strokeColor:"#ff0000",strokeWidth:3,strokeScaling:!1},L=function(a,b){return J(J(J({},K),b),{},{id:H(),type:a})},M=function(a){var b=a.point,c=a.event,d=a.tool;return c instanceof TouchEvent?{point:d.view.projectToView(b),x:c.touches[0].pageX,y:c.touches[0].pageY}:{point:d.view.projectToView(b),x:c.pageX,y:c.pageY}},N=function(a,b){var c=a.point,d=a.tool,e=c.subtract(d.view.viewToProject(b.point));return{tx:e.x,ty:e.y,x:e.x,y:e.y}},O=function(){var a=(0,h.useRef)(null),b=(0,h.useCallback)(function(b){var c=M(b);if(a.current){var d=N(b,a.current);b.tool.view.translate(d.tx,d.ty)}a.current=c},[]),c=(0,h.useCallback)(function(){a.current=null},[]);return{mouseDrag:b,mouseUp:c}},P=function(a,b){var c=a.touches,d=b.element.getBoundingClientRect(),e=d.top,f=d.left,g=c[0].pageX-f,h=c[0].pageY-e,i=c[1].pageX-f,j=c[1].pageY-e;return{center:[(g+i)/2,(h+j)/2],distance:Math.sqrt(Math.pow(i-g,2)+Math.pow(j-h,2))}},Q=function(a,b,c){var d=a.viewToProject(c.center),e=d.subtract(a.viewToProject(b.center)),f=c.distance/b.distance;return{tx:e.x,ty:e.y,sx:d.x,sy:d.y,x:e.x,y:e.y,zoom:f}},R=function(){var a=(0,h.useRef)(null),b=(0,h.useCallback)(function(b){var c=b.event,d=b.tool,e=P(c,d.view);if(a.current){var f=Q(d.view,a.current,e);d.view.scale(f.zoom,[f.sx,f.sy]),d.view.translate(f.tx,f.ty)}a.current=e},[]),c=(0,h.useCallback)(function(){a.current=null},[]);return{mouseDrag:b,mouseUp:c}},S=function(a){var b=ak(),c=(0,r.Z)(b,2),d=c[0],e=c[1],f=(0,h.useCallback)(function(a){if(d.scope){var b=d.scope,c=b.view,f=b.Point;if(c.element===a.target){a.stopPropagation();var g=-a.deltaY>0?1.1:.9090909090909091,h=c.element.getBoundingClientRect(),i=h.left,j=h.top,k=c.viewToProject(new f(a.clientX-i,a.clientY-j));c.scale(g,k),e({type:"setZoom",zoom:c.zoom})}}},[e,d.scope]);(0,h.useEffect)(function(){return d.scope&&d.tool===a&&document.addEventListener("wheel",f),function(){d.tool===a&&document.removeEventListener("wheel",f)}},[f,d.scope,d.tool,a])};function T(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function U(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?T(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):T(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var V,W="Circle",X=function(){var a=ak(),b=(0,r.Z)(a,2),c=b[0],e=b[1],f=(0,h.useRef)(null),g=(0,h.useCallback)(function(a){c.scope&&(f.current=new c.scope.Path.Circle(U(U({},K),{},{insert:!0,center:a.point,radius:10})),c.scope.project.activeLayer.addChild(f.current))},[c.scope]),i=(0,h.useCallback)(function(a){if(c.scope&&f.current){var b=a.downPoint,d=b.getDistance(a.point);if(d>0){var e=b.x-d,g=b.y-d,h=2*d;f.current.fitBounds(e,g,h,h)}}},[c.scope]),j=(0,h.useCallback)(function(){c.image&&f.current&&(e({type:"addItem",item:L(d.Circle,{pathData:f.current.pathData})}),f.current.remove(),f.current=null)},[e,c.image]);return(0,t.jsx)(s.UA,{name:W,active:c.tool===W,onMouseDown:g,onMouseDrag:i,onMouseUp:j})},Y="Delete",Z=function(){var a=ak(),b=(0,r.Z)(a,2),c=b[0],d=b[1],e=(0,h.useCallback)(function(a){if(c.scope){var b=c.scope.project.hitTest(a.point,{fill:!0,segments:!0,stroke:!0,tolerance:15});b&&b.item&&d({type:"removeItem",index:b.item.index})}},[d,c.scope]);return(0,t.jsx)(s.UA,{name:Y,active:c.tool===Y,onMouseDown:e})};(V=f||(f={})).Circle="Circle",V.Delete="Delete",V.Move="Move",V.Pen="Pen",V.Select="Select";var $=f.Move,_=function(){var a=ak(),b=(0,r.Z)(a,1)[0],c=R(),d=O();S($);var e=(0,h.useCallback)(function(){},[]),f=(0,h.useCallback)(function(a){var b=a.event;b instanceof TouchEvent&&2===b.touches.length?c.mouseDrag(a):d.mouseDrag(a)},[d,c]),g=(0,h.useCallback)(function(){d.mouseUp(),c.mouseUp()},[d,c]);return(0,t.jsx)(s.UA,{name:$,active:b.tool===$,onMouseDown:e,onMouseDrag:f,onMouseUp:g})};function aa(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ab(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aa(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aa(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var ac=function(){var a=ak(),b=(0,r.Z)(a,2),c=b[0],e=b[1],f=(0,h.useRef)(),g=(0,h.useCallback)(function(){null!==c.selection&&e({type:"setSelection",selection:void 0})},[e,c.selection]),i=(0,h.useCallback)(function(a){c.scope&&(f.current?f.current.add(a.point):f.current=new c.scope.Path(ab(ab({},K),{},{insert:!0,segments:[a.point]})))},[c.scope]),j=(0,h.useCallback)(function(){c.image&&f.current&&(f.current.simplify(10),e({type:"addItem",item:L(d.Path,{pathData:f.current.pathData})}),f.current.remove(),f.current=void 0)},[e,c.image]);return(0,t.jsx)(s.UA,{name:"Pen",active:"Pen"===c.tool,onMouseDown:g,onMouseDrag:i,onMouseUp:j})},ad="Select",ae=function(){var a=ak(),b=(0,r.Z)(a,2),c=b[0],d=b[1],e=(0,h.useRef)(),f=(0,h.useRef)(),g=(0,h.useRef)(!1),i=(0,h.useCallback)(function(a){if(c.scope){var b=c.scope.project.hitTest(a.point,{fill:!0,segments:!0,stroke:!0,tolerance:10});b&&b.item?(b.item.layer.selected=!1,b.item.selected=!0,e.current=b.item,f.current=a.point):(e.current=void 0,f.current=void 0,d({type:"setSelection",selection:void 0}))}},[c.scope,d]),j=(0,h.useCallback)(function(a){e.current&&f.current&&(e.current.translate(a.point.subtract(f.current)),g.current=!0,f.current=a.point)},[]),k=(0,h.useCallback)(function(){e.current&&g.current&&(d({type:"setSelection",selection:e.current.props.id}),d({type:"updateItem",index:e.current.index,item:{pathData:e.current.pathData}})),g.current=!1,f.current=void 0},[d]);return(0,t.jsx)(s.UA,{name:ad,active:c.tool===ad,onMouseDown:i,onMouseDrag:j,onMouseUp:k})},af={Circle:X,Delete:Z,Move:_,Pen:ac,Select:ae},ag={loading:!0,scope:void 0,image:void 0,history:[],historyIndex:0,routeIndex:0,selection:void 0,tool:f.Move,zoom:1},ah=function(a,b){var c,d=a.history[a.historyIndex],e=q()(d,{routes:(0,o.Z)({},a.routeIndex,{items:b})}),f=a.historyIndex+1,g=[].concat(function(a){if(Array.isArray(a))return(0,l.Z)(a)}(c=a.history.slice(0,f))||m(c)||(0,n.Z)(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);return q()(a,{$merge:{history:g,historyIndex:f}})},ai=function(a,b){switch(b.type){case"setLoading":return q()(a,{loading:{$set:b.loading}});case"setScope":return q()(a,{scope:{$set:b.scope}});case"setImage":var c=b.image;return q()(a,{$merge:{image:c,history:c?[c]:[],historyIndex:0,selection:void 0,loading:!1}});case"setTool":return q()(a,{tool:{$set:b.tool}});case"setSelection":return q()(a,{selection:{$set:b.selection}});case"setZoom":return q()(a,{zoom:{$set:b.zoom}});case"addItem":return ah(a,{$push:[b.item]});case"updateItem":return ah(a,(0,o.Z)({},b.index,{$merge:b.item}));case"removeItem":return ah(a,{$splice:[[b.index,1]]});case"undo":if(a.historyIndex<=0)return a;return q()(a,{$merge:{historyIndex:a.historyIndex-1,selection:void 0}});case"redo":if(a.historyIndex>=a.history.length-1)return a;return q()(a,{$merge:{historyIndex:a.historyIndex+1,selection:void 0}});case"reset":return q()(a,{$merge:{history:[],historyIndex:0,selection:void 0}});default:return a}},aj=function(a){var b=a.children,c=(0,h.useReducer)(ai,ag);return(0,t.jsx)(k.Provider,{value:c,children:b})},ak=function(){return(0,h.useContext)(k)},al=c(296),am=c.n(al);function an(a){let b=[];if(!a||a===document.body)return b;let{overflow:c,overflowX:d,overflowY:e}=window.getComputedStyle(a);return[c,d,e].some(a=>"auto"===a||"scroll"===a)&&b.push(a),[...b,...an(a.parentElement)]}let ao=["x","y","top","bottom","left","right","width","height"],ap=(a,b)=>ao.every(c=>a[c]===b[c]);var aq=c(4730),ar=["size"];function as(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function at(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?as(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):as(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var au=function(a){var b=a.size,c=void 0===b?24:b,d=(0,aq.Z)(a,ar);return(0,t.jsx)("svg",at(at({viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},d),{},{width:c,height:c}))};function av(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aw(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?av(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):av(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var ax=function(a){return(0,t.jsxs)(au,aw(aw({},a),{},{children:[(0,t.jsx)("title",{children:"Undo"}),(0,t.jsx)("path",{fill:"currentColor",d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"})]}))},ay=c(5468),az=c.n(ay),aA=["active","className"];function aB(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aC(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aB(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aB(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aD=function(a){var b=a.active,c=a.className,d=(0,aq.Z)(a,aA);return(0,t.jsx)("button",aC(aC({},d),{},{className:[az().button,void 0!==b&&b?az().active:"",c].join(" ")}))},aE=["className"];function aF(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aG(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aF(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aF(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aH=function(a){a.className;var b=(0,aq.Z)(a,aE),c=ak(),d=(0,r.Z)(c,2),e=d[0].historyIndex,f=d[1];return(0,t.jsx)(aD,aG(aG({},b),{},{disabled:0===e,onClick:function(){return f({type:"undo"})},children:(0,t.jsx)(ax,{})}))};function aI(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aJ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aI(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aI(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aK=function(a){return(0,t.jsxs)(au,aJ(aJ({},a),{},{children:[(0,t.jsx)("title",{children:"Redo"}),(0,t.jsx)("path",{fill:"currentColor",d:"M58.79 439.13A16 16 0 0148 424c0-73.1 14.68-131.56 43.65-173.77 35-51 90.21-78.46 164.35-81.87V88a16 16 0 0127.05-11.57l176 168a16 16 0 010 23.14l-176 168A16 16 0 01256 424v-79.77c-45 1.36-79 8.65-106.07 22.64-29.25 15.12-50.46 37.71-73.32 67a16 16 0 01-17.82 5.28z"})]}))},aL=["className"];function aM(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aN(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aM(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aM(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aO=function(a){a.className;var b=(0,aq.Z)(a,aL),c=ak(),d=(0,r.Z)(c,2),e=d[0],f=e.history,g=e.historyIndex,h=d[1];return(0,t.jsx)(aD,aN(aN({},b),{},{disabled:g>=f.length-1,onClick:function(){return h({type:"redo"})},children:(0,t.jsx)(aK,{})}))},aP=c(4666),aQ=c(4882),aR=function(a){var b;return(b=a.project.layers,(0,aP.Z)(b)||m(b)||(0,n.Z)(b)||(0,aQ.Z)()).slice(1).map(function(a){var b=a.children.map(function(a){var b;return{id:a.props.id,name:a.props.name,type:a.type,pathData:a.pathData,strokeColor:null===(b=a.strokeColor)|| void 0===b?void 0:b.toCSS(!0),strokeWidth:a.strokeWidth,strokeScaling:a.strokeScaling}});return{id:a.props.id,name:a.props.name,type:"Layer",items:b}})};function aS(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aT(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aS(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aS(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aU=function(a){return(0,t.jsxs)(au,aT(aT({},a),{},{children:[(0,t.jsx)("title",{children:"Save"}),(0,t.jsx)("path",{fill:"currentColor",d:"M465.94 119.76l-73.7-73.7A47.68 47.68 0 00358.3 32H96a64 64 0 00-64 64v320a64 64 0 0064 64h320a64 64 0 0064-64V153.7a47.68 47.68 0 00-14.06-33.94zM120 112h176a8 8 0 018 8v48a8 8 0 01-8 8H120a8 8 0 01-8-8v-48a8 8 0 018-8zm139.75 319.91a80 80 0 1176.16-76.16 80.06 80.06 0 01-76.16 76.16z"}),(0,t.jsx)("circle",{fill:"currentColor",cx:"256",cy:"352",r:"48"})]}))},aV=["className"];function aW(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aX(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aW(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aW(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aY=function(a){a.className;var b=(0,aq.Z)(a,aV),c=ak(),d=(0,r.Z)(c,1)[0],e=(0,h.useCallback)(function(){if(d.scope){var a=aR(d.scope);console.log(JSON.stringify(a))}},[d.scope]);return(0,t.jsx)(aD,aX(aX({},b),{},{onClick:e,children:(0,t.jsx)(aU,{})}))};function aZ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a$(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aZ(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aZ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var a_=function(a){return(0,t.jsxs)(au,a$(a$({},a),{},{children:[(0,t.jsx)("title",{children:"Move"}),(0,t.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 112l80-80 80 80M255.98 32l.02 448M176 400l80 80 80-80M400 176l80 80-80 80M112 176l-80 80 80 80M32 256h448"})]}))};function a0(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a1(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a0(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a0(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var a2=function(a){return(0,t.jsxs)(au,a1(a1({},a),{},{children:[(0,t.jsx)("title",{children:"Pen"}),(0,t.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"44",d:"M358.62 129.28L86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zM413.07 74.84l-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 000-23.34l-.75-.75a16.51 16.51 0 00-23.35 0z"})]}))};function a3(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a4(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a3(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a3(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var a5=function(a){return(0,t.jsxs)(au,a4(a4({},a),{},{children:[(0,t.jsx)("title",{children:"Circle"}),(0,t.jsx)("circle",{cx:"256",cy:"256",r:"192",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})]}))};function a6(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a7(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a6(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a6(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var a8=function(a){return(0,t.jsxs)(au,a7(a7({},a),{},{children:[(0,t.jsx)("title",{children:"Select"}),(0,t.jsx)("path",{fill:"currentColor",d:"M267.024 282.48l84.976 197.52-64 32-74.336-202.848-117.664 106.848v-416l320 256-148.976 26.48z"})]}))};function a9(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ba(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a9(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a9(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var bb=function(a){return(0,t.jsxs)(au,ba(ba({},a),{},{children:[(0,t.jsx)("title",{children:"Delete"}),(0,t.jsx)("path",{fill:"none",d:"M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z"})]}))},bc=["className","tool"];function bd(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function be(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bd(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bd(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var bf=(g={},(0,o.Z)(g,f.Move,a_),(0,o.Z)(g,f.Pen,a2),(0,o.Z)(g,f.Circle,a5),(0,o.Z)(g,f.Select,a8),(0,o.Z)(g,f.Delete,bb),g),bg=function(a){a.className;var b=a.tool,c=(0,aq.Z)(a,bc),d=ak(),e=(0,r.Z)(d,2),f=e[0],g=e[1],h=bf[b];return(0,t.jsx)(aD,be(be({},c),{},{active:f.tool===b,onClick:function(){return g({type:"setTool",tool:b})},children:(0,t.jsx)(h,{})}))};function bh(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bi(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bh(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bh(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var bj=function(a){return(0,t.jsxs)("div",bi(bi({},a),{},{children:[(0,t.jsx)(bg,{tool:f.Move}),(0,t.jsx)(bg,{tool:f.Pen}),(0,t.jsx)(bg,{tool:f.Circle}),(0,t.jsx)(bg,{tool:f.Select}),(0,t.jsx)(bg,{tool:f.Delete}),(0,t.jsx)("span",{children:"|"}),(0,t.jsx)(aH,{}),(0,t.jsx)(aO,{}),(0,t.jsx)("span",{children:"|"}),(0,t.jsx)(aY,{})]}))},bk=function(a,b){var c=a.viewSize,d=c.width/b.width,e=c.height/b.height,f=d<e?d:e,g=b.width*f,h=b.height*f,i=(c.width-g)/2/f,j=(c.height-h)/2/f;a.scale(f/a.zoom),a.translate(i-a.matrix.tx/a.zoom,j-a.matrix.ty/a.zoom)},bl=function(a){var b=a.image,c=ak(),d=(0,r.Z)(c,2),e=d[0],f=d[1],g=(0,h.useCallback)(function(a){a&&a.view&&(a.fitBounds(0,0,b.width,b.height),bk(a.view,b),f({type:"setImage",image:b}))},[b,f]);return(0,t.jsx)(s.mh,{id:b.id,visible:!!e.image,children:(0,t.jsx)(s.nS,{locked:!0,source:b.url,onLoad:g})})};function bm(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bn(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bm(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bm(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var bo=function(a){var b=a.route,c=a.index,d=ak(),e=(0,r.Z)(d,1)[0];return(0,t.jsx)(s.mh,{id:b.id,active:e.routeIndex===c,visible:!!e.image,children:b.items.map(function(a){var b=A[a.type];return(0,h.createElement)(b,bn(bn({},a),{},{id:a.id,key:a.id,selected:e.selection===a.id}))})},b.id)},bp=["image","width","height"];function bq(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function br(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bq(Object(c),!0).forEach(function(b){(0,o.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bq(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var bs=function(a){var b=a.image,c=a.width,d=a.height,e=(0,aq.Z)(a,bp),f=(0,h.useContext)(k),g=(0,r.Z)(f,2),i=g[0],j=g[1],l=i.history[i.historyIndex],m=(0,h.useCallback)(function(a){return j({type:"setScope",scope:a})},[j]);return(0,t.jsx)(s.Xz,br(br({},e),{},{width:c,height:d,onScopeReady:m,children:(0,t.jsxs)(k.Provider,{value:f,children:[(0,t.jsxs)(s.G7,{children:[(0,t.jsx)(bl,{image:b}),null==l?void 0:l.routes.map(function(a,b){return(0,t.jsx)(bo,{route:a,index:b},a.id)})]}),(0,t.jsx)(af.Move,{}),(0,t.jsx)(af.Pen,{}),(0,t.jsx)(af.Circle,{}),(0,t.jsx)(af.Select,{}),(0,t.jsx)(af.Delete,{})]})}))},bt=c(4172),bu=c.n(bt),bv=function(a){var b=a.image,c=function(a){var b,c,d;let{debounce:e,scroll:f,polyfill:g,offsetSize:i}=void 0===a?{debounce:0,scroll:!1,offsetSize:!1}:a,j=g||("undefined"==typeof window?class{}:window.ResizeObserver);if(!j)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[k,l]=(0,h.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),m=(0,h.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:k}),n=e?"number"==typeof e?e:e.scroll:null,o=e?"number"==typeof e?e:e.resize:null,p=(0,h.useRef)(!1);(0,h.useEffect)(()=>(p.current=!0,()=>void(p.current=!1)));let[q,r,s]=(0,h.useMemo)(()=>{let a=()=>{if(!m.current.element)return;let{left:a,top:b,width:c,height:d,bottom:e,right:f,x:g,y:h}=m.current.element.getBoundingClientRect(),j={left:a,top:b,width:c,height:d,bottom:e,right:f,x:g,y:h};m.current.element instanceof HTMLElement&&i&&(j.height=m.current.element.offsetHeight,j.width=m.current.element.offsetWidth),Object.freeze(j),p.current&&!ap(m.current.lastBounds,j)&&l(m.current.lastBounds=j)};return[a,o?am()(a,o):a,n?am()(a,n):a]},[l,i,n,o]);function t(){m.current.scrollContainers&&(m.current.scrollContainers.forEach(a=>a.removeEventListener("scroll",s,!0)),m.current.scrollContainers=null),m.current.resizeObserver&&(m.current.resizeObserver.disconnect(),m.current.resizeObserver=null)}function u(){m.current.element&&(m.current.resizeObserver=new j(s),m.current.resizeObserver.observe(m.current.element),f&&m.current.scrollContainers&&m.current.scrollContainers.forEach(a=>a.addEventListener("scroll",s,{capture:!0,passive:!0})))}let v=a=>{a&&a!==m.current.element&&(t(),m.current.element=a,m.current.scrollContainers=an(a),u())};return b=s,c=Boolean(f),(0,h.useEffect)(()=>{if(c){let a=b;return window.addEventListener("scroll",a,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",a,!0)}},[b,c]),d=r,(0,h.useEffect)(()=>{let a=d;return window.addEventListener("resize",a),()=>void window.removeEventListener("resize",a)},[d]),(0,h.useEffect)(()=>{t(),u()},[f,s,r]),(0,h.useEffect)(()=>t,[]),[v,k,q]}({debounce:150}),d=(0,r.Z)(c,2),e=d[0],f=d[1],g=f.width,i=f.height;return(0,t.jsxs)("div",{className:bu().container,children:[(0,t.jsx)(bj,{className:bu().toolbar}),(0,t.jsx)("div",{className:bu().routes,children:"Routes"}),(0,t.jsx)("div",{className:bu().paper,ref:e,children:g>0&&i>0&&(0,t.jsx)(bs,{image:b,width:g,height:i})})]})},bw=c(4128),bx=c.n(bw),by=c(1664),bz=c.n(by),bA={id:"37ag863f-8530-4716-512d-5jr2bd3be5d2",width:1920,height:870,url:"/mr-bubbles.jpg",routes:[{id:"47dea029-5470-4c5a-a94a-61967cc46854",name:"Route 1",type:"Layer",items:[{id:"54bf866f-3990-4716-801c-3fc7f93bd0c7",type:"Path",pathData:"M250.1758,639.50879c20.94297,-48.86693 59.34607,-87.4377 93.31954,-127.07342c19.40907,-22.64392 33.63846,-49.15867 53.6091,-71.4788c16.35186,-18.27561 38.25883,-32.30227 55.59462,-49.63806c20.02213,-20.02213 37.52521,-42.18195 55.59462,-63.53671c15.79546,-18.66736 36.73709,-31.77493 51.62358,-51.62358c13.87974,-18.50632 20.68251,-41.9993 35.7394,-59.56567c17.26294,-20.1401 33.62818,-42.14831 47.65253,-65.52223",strokeColor:"#ff0000",strokeWidth:3,strokeScaling:!1},{id:"b1b74b5d-20be-4951-a7db-e5f75cf14489",type:"Path",pathData:"M822.0062,558.10238c12.35201,-22.64536 28.12091,-44.93866 39.71044,-67.50776c23.44243,-45.65105 38.49571,-97.23204 57.58014,-144.94312c20.2652,-50.66299 51.05793,-98.14482 75.44984,-146.92865",strokeColor:"#ff0000",strokeWidth:3,strokeScaling:!1},{id:"1be38c6b-a37b-4437-9a04-2757b51f122b",type:"Path",pathData:"M1064.23992,595.8273c24.35736,-36.53603 48.37271,-73.35856 73.46432,-109.20372c22.81339,-32.59056 56.59328,-56.60506 69.49328,-95.30507c9.91559,-29.74678 0.41998,-97.78745 -1.98552,-129.05895c-1.29475,-16.83179 1.98552,-32.98497 1.98552,-49.63806",strokeColor:"#ff0000",strokeWidth:3,strokeScaling:!1}]},{id:"8a0c22ee-16c8-4354-89c2-27bee9149ad4",name:"Route 2",type:"Layer",items:[]}]},bB=function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(j(),{children:[(0,t.jsx)("title",{children:"react-paper-bindings demo"}),(0,t.jsx)("meta",{name:"description",content:"Demo for react-paper-bindings library built with Next.js."}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(bz(),{href:"/",children:"Home"}),(0,t.jsx)("div",{className:bx().container,children:(0,t.jsx)(aj,{children:(0,t.jsx)(bv,{image:bA})})})]})},bC=bB},2972:function(a,b,c){"use strict";c.d(b,{Xz:function(){return H},Cd:function(){return o},Op:function(){return n},mh:function(){return l},"y$":function(){return m},nS:function(){return q},Ae:function(){return p},UA:function(){return r},G7:function(){return k}});var d=c(4730),e=c(9499),f=c(5861),g=c.n(f),h=c(4078),i=c(4725),j=c.n(i),k="View",l="Layer",m="Path",n="CompoundPath",o="Circle",p="Rectangle",q="Raster",r="Tool",s=["children"],t=["onLoad"];function u(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function v(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?u(Object(c),!0).forEach(function(b){(0,e.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):u(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var w=function(a,b,c,d){c[a]!==d[a]&&Object.assign(b,(0,e.Z)({},a,c[a]))},x={data:function(a,b,c){b.data!==c.data&&a instanceof j().Item&&(a.data=v(v(v({},a.data),b.data),{},{type:a.type}))},active:function(a,b,c){b.active&&b.active!==c.active&&a instanceof j().Tool&&a.activate()},point:function(a,b,c){b.point!==c.point&&a instanceof j().Item&&a.translate([b.point[0]-c.point[0],b.point[1]-c.point[1]])},center:function(a,b,c){b.center!==c.center&&a instanceof j().Item&&a.translate([b.center[0]-c.center[0],b.center[1]-c.center[1]])},radius:function(a,b,c){b.radius!==c.radius&&a instanceof j().Item&&a.scale(b.radius/c.radius)},rotation:function(a,b,c){b.rotation!==c.rotation&&a instanceof j().Item&&(b.rotation&&c.rotation?a.rotate(b.rotation-c.rotation):a.rotation=b.rotation)},size:function(a,b,c){b.size!==c.size&&a instanceof j().Item&&a.scale(b.size[0]/c.size[0],b.size[1]/c.size[1])}},y=function(a,b){for(var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},d=Object.keys(b),e=d.length,f=0;f<e;){var g=d[f];"id"!==g&&"children"!==g&&(x[g]?x[g](a,b,c):w(g,a,b,c)),f++}},z=function(a,b){var c=b.id,d=b.name,e=b.svg,f=c||d;if(!f)throw Error("Missing id or name prop on SymbolItem");if(!e)throw Error("Missing svg prop on SymbolItem");if(a.symbols&&a.symbols[f])return a.symbols[f];a.symbols||(a.symbols={});var g=new(j()).SymbolDefinition(a.project.importSVG(e));return a.symbols[f]=g,g},A=g()({createInstance:function(a,b,c){b.children;var e,f=(0,d.Z)(b,s),g=v(v({},f),{},{project:c.project});switch(a){case k:(e=c.view).project=c.project;break;case r:e=new c.Tool;break;case l:e=new c.Layer(g);break;case"Group":e=new c.Group(g);break;case m:e=new c.Path(g);break;case n:e=new c.CompoundPath(g);break;case"Arc":e=new c.Path.Arc(g);break;case o:e=new c.Path.Circle(g);break;case"Ellipse":e=new c.Path.Ellipse(g);break;case"Line":e=new c.Path.Line(g);break;case p:e=new c.Path.Rectangle(g);break;case"RegularPolygon":e=new c.Path.RegularPolygon(g);break;case"PointText":e=new c.PointText(g);break;case"SymbolItem":var h=z(c,g);e=new c.SymbolItem(h,g.center);break;case q:var i=g.onLoad,j=(0,d.Z)(g,t);e=new c.Raster(j),"function"==typeof i&&(e.onLoad=function(){return i(e)});break;default:throw Error('PaperRenderer does not support the type "'.concat(a,'"'))}return e.props=f,e.type=a,e},createTextInstance:function(){throw Error("PaperRenderer does not support text children")},getPublicInstance:function(a){return a},prepareForCommit:function(){return null},prepareUpdate:function(){return!0},resetAfterCommit:function(){},resetTextContent:function(){},getRootHostContext:function(){return null},getChildHostContext:function(){return null},shouldSetTextContent:function(){return!1},getCurrentEventPriority:function(){return h.DefaultEventPriority},getInstanceFromNode:function(){},getInstanceFromScope:function(){},preparePortalMount:function(){},prepareScopeUpdate:function(){},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},clearContainer:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsHydration:!1,supportsPersistence:!1,appendInitialChild:function(a,b){a instanceof j().Group&&b instanceof j().Item&&b.addTo(a),a instanceof j().CompoundPath&&b instanceof j().Item&&b.addTo(a),a instanceof j().View&&b instanceof j().Item&&b.addTo(a.project)},finalizeInitialChildren:function(a,b,c){return(a instanceof j().View||a instanceof j().Tool)&&y(a,c),!1},appendChild:function(a,b){a instanceof j().Group&&b instanceof j().Item&&b.addTo(a),a instanceof j().View&&b instanceof j().Item&&b.addTo(a.project)},appendChildToContainer:function(a,b){if(!(b instanceof j().View||b instanceof j().Tool))throw Error("Container can only hold View and Tool nodes")},insertBefore:function(a,b,c){a instanceof j().Group&&b instanceof j().Item&&c instanceof j().Item&&b.insertAbove(c)},insertInContainerBefore:function(a,b,c){if(!(b instanceof j().View||b instanceof j().Tool)||!(c instanceof j().View||c instanceof j().Tool))throw Error("Container can only hold View and Tool nodes")},removeChild:function(a,b){"function"==typeof b.remove&&b.remove()},removeChildFromContainer:function(a,b){"function"==typeof b.remove&&b.remove()},commitTextUpdate:function(){},commitMount:function(){},commitUpdate:function(a,b,c,d,e){y(a,e,d)}}),B=c(7294),C=function(a){var b=(0,B.useRef)(a),c=(0,B.useRef)(),d=(0,B.useRef)(!1),e=(0,B.useRef)(!1),f=(0,B.useState)(0)[1];d.current&&(e.current=!0),(0,B.useEffect)(function(){return d.current||(c.current=b.current(),d.current=!0),f(1),function(){e.current&&c.current&&c.current()}},[])},D=c(5893),E=["children","width","height","settings","onScopeReady"];function F(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function G(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?F(Object(c),!0).forEach(function(b){(0,e.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):F(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var H=function(a){var b=a.children,c=a.width,e=a.height,f=a.settings,g=a.onScopeReady,j=(0,d.Z)(a,E),k=(0,B.useRef)(null),l=(0,B.useRef)(null),m=(0,B.useRef)(null);return C(function(){return k.current instanceof HTMLCanvasElement&&(l.current=new i.PaperScope,Object.assign(l.current.settings,G(G({},f),{},{insertItems:!1})),l.current.setup(k.current),m.current=A.createContainer(l.current,h.ConcurrentRoot,null,!1,null,"",console.error,null),A.updateContainer(null,m.current,null,function(){return null}),"function"==typeof g&&g(l.current)),function(){m.current&&A.updateContainer(null,m.current,null,function(){return null}),k.current=null,l.current=null,m.current=null}}),(0,B.useEffect)(function(){l.current&&m.current&&A.updateContainer(b,m.current,null,function(){return null})},[b]),(0,B.useEffect)(function(){l.current&&(l.current.view.viewSize=new l.current.Size(c,e))},[c,e]),(0,D.jsx)("canvas",G(G({},j),{},{ref:k}))}},3454:function(a,b,c){"use strict";var d,e;a.exports=(null==(d=c.g.process)?void 0:d.env)&&"object"==typeof(null==(e=c.g.process)?void 0:e.env)?c.g.process:c(7663)},1832:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return c(330)}])},4172:function(a){a.exports={container:"Paper_container__CHqyo",toolbar:"Paper_toolbar__yj2Lo",paper:"Paper_paper__gcor0"}},5468:function(a){a.exports={button:"Button_button__hzfru",active:"Button_active__SzYzl"}},4128:function(a){a.exports={container:"Styles_container__6hGck",editor:"Styles_editor__S5iy_",canvas:"Styles_canvas__ThDsp"}},7663:function(a){!function(){var b={308:function(a){var b,c,d,e=a.exports={};function f(){throw Error("setTimeout has not been defined")}function g(){throw Error("clearTimeout has not been defined")}function h(a){if(b===setTimeout)return setTimeout(a,0);if((b===f||!b)&&setTimeout)return b=setTimeout,setTimeout(a,0);try{return b(a,0)}catch(c){try{return b.call(null,a,0)}catch(d){return b.call(this,a,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:f}catch(a){b=f}try{c="function"==typeof clearTimeout?clearTimeout:g}catch(d){c=g}}();var i=[],j=!1,k=-1;function l(){j&&d&&(j=!1,d.length?i=d.concat(i):k=-1,i.length&&m())}function m(){if(!j){var a=h(l);j=!0;for(var b=i.length;b;){for(d=i,i=[];++k<b;)d&&d[k].run();k=-1,b=i.length}d=null,j=!1,function(a){if(c===clearTimeout)return clearTimeout(a);if((c===g||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(a);try{c(a)}catch(b){try{return c.call(null,a)}catch(d){return c.call(this,a)}}}(a)}}function n(a,b){this.fun=a,this.array=b}function o(){}e.nextTick=function(a){var b=Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new n(a,b)),1!==i.length||j||h(m)},n.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=o,e.addListener=o,e.once=o,e.off=o,e.removeListener=o,e.removeAllListeners=o,e.emit=o,e.prependListener=o,e.prependOnceListener=o,e.listeners=function(a){return[]},e.binding=function(a){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw Error("process.chdir is not supported")},e.umask=function(){return 0}}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e=d(308);a.exports=e}()},4169:function(){},9845:function(){}},function(a){a.O(0,[711,184,774,888,179],function(){var b;return a(a.s=1832)}),_N_E=a.O()}])